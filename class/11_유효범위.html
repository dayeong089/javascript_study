<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        var vscope = 'global'; // global
        function fscope(){
            var vscope = 'local'; // local ,, var 이라고 쓰지 않으면 global 
            var lv = 'local variables';
            alert(vscope); // local
        }
        fscope();
        alert(vscope) // global
        // alert(lv);


        function a(){
            var i = 0; //var을 없애면 전역변수가 되므로 밑의 for문의 i가 계속 0이 되어서 무한루프
        }
        for(var i=0; i<5; i++){
            a();
            document.write(i)
        }


        var MYAPP = {}; //전역변수 하나를 만들고 나머지 변수를 거기 포함시킬 수 있음
        MYAPP.calculator = {
            'left' : null,
            'right' : null
        }
        MYAPP.coordinate = {
            'left' : null,
            'right' : null
        }
        MYAPP.calculator.left = 10;
        MYAPP.calculator.right = 20;
        function sum(){
            return MYAPP.calculator.left + MYAPP.calculator.right;
        }
        document.write(sum());


        (function(){
            var MYAPP = {}; //전역변수 하나를 만들고 나머지 변수를 거기 포함시킬 수 있음
            MYAPP.calculator = {
                'left' : null,
                'right' : null
            }
            MYAPP.coordinate = {
                'left' : null,
                'right' : null
            }
            MYAPP.calculator.left = 10;
            MYAPP.calculator.right = 20;
            function sum(){
                return MYAPP.calculator.left + MYAPP.calculator.right;
            }
            document.write(sum());
        }()); //이런식으로 전역변수 하나도 만들지 않을 수 있음 .. 이름이 없는 함수 - 익명함수


        //다른 언어에서는 for문/while문 같은 {}안에서 선언한 변수도 지역변수
        //javascript에서는 함수 내에서 선언한 변수만 지역변수, {}안에서 선언한 변수는 전역변수
        for(var i=0; i<1; i++){
            var name = 'coding everybody';
        }
        alert(name);


        //정의될 때의 전역변수가 사용됨 : 정적 유효범위(lexical 유효범위)
        var x = 5;
        function a(){
            var x = 10;
            b(); //b가 호출된 시점에서의 전역변수가 사용되지 않음
        }
        function b(){
            document.write(x); //b가 선언된 시점에서 전역변수 : x=5
        }
        a();

    </script>
</body>
</html>
